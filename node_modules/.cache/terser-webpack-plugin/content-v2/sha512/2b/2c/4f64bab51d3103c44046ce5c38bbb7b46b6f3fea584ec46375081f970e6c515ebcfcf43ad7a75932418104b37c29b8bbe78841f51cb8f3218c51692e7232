{"code":"!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&n&&\"string\"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=21)}([function(e,t,n){\"use strict\";function r(e){return\"[object Array]\"===u.call(e)}function i(e){return void 0===e}function o(e){return null!==e&&\"object\"==typeof e}function a(e){return\"[object Function]\"===u.call(e)}function s(e,t){if(null!=e)if(\"object\"!=typeof e&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var c=n(10),u=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:function(e){return\"[object ArrayBuffer]\"===u.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&\"function\"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return\"undefined\"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return\"undefined\"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return\"string\"==typeof e},isNumber:function(e){return\"number\"==typeof e},isObject:o,isUndefined:i,isDate:function(e){return\"[object Date]\"===u.call(e)},isFile:function(e){return\"[object File]\"===u.call(e)},isBlob:function(e){return\"[object Blob]\"===u.call(e)},isFunction:a,isStream:function(e){return o(e)&&a(e.pipe)},isURLSearchParams:function(e){return\"undefined\"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return(\"undefined\"==typeof navigator||\"ReactNative\"!==navigator.product&&\"NativeScript\"!==navigator.product&&\"NS\"!==navigator.product)&&(\"undefined\"!=typeof window&&\"undefined\"!=typeof document)},forEach:s,merge:function e(){function t(t,r){n[r]=\"object\"==typeof n[r]&&\"object\"==typeof t?e(n[r],t):t}for(var n={},r=0,i=arguments.length;r<i;r++)s(arguments[r],t);return n},deepMerge:function e(){function t(t,r){n[r]=\"object\"==typeof n[r]&&\"object\"==typeof t?e(n[r],t):\"object\"==typeof t?e({},t):t}for(var n={},r=0,i=arguments.length;r<i;r++)s(arguments[r],t);return n},extend:function(e,t,n){return s(t,function(t,r){e[r]=n&&\"function\"==typeof t?c(t,n):t}),e},trim:function(e){return e.replace(/^\\s*/,\"\").replace(/\\s*$/,\"\")}}},function(e,t,n){e.exports=n(24)},function(e){\"use strict\";var t=[200,201];e.exports={isSuccess:function(e){return-1<t.indexOf(e.status)},deleteEmpty:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];Object.keys(e).forEach(function(n){(null===e[n]||void 0===e[n]||!0===t&&(\"\"===e[n]||0===e[n].length||0===Object.keys(e[n]).length))&&delete e[n]})},clone:function(e){var t=Object.keys(e),n={};return t.forEach(function(t){n[t]=e[t]}),n},checkType:function(e,t){return 0==e instanceof RegExp&&(e=new RegExp(e)),e.test(Object.prototype.toString.call(t))}}},function(e){\"use strict\";var t=[\"withinMiles\",\"withinKilometers\",\"withinRadians\",\"withinDegrees\"];e.exports={API:{TOKEN_PATH:\"/token\",MODELS_PATH:\"/models\",MODEL_PATH:\"/models/$0\",MODEL_VERSIONS_PATH:\"/models/$0/versions\",MODEL_VERSION_PATH:\"/models/$0/versions/$1\",MODEL_PATCH_PATH:\"/models/$0/output_info/data/concepts\",MODEL_OUTPUT_PATH:\"/models/$0/output_info\",MODEL_VERSION_OUTPUT_PATH:\"/models/$0/versions/$1/output_info\",MODEL_SEARCH_PATH:\"/models/searches\",MODEL_FEEDBACK_PATH:\"/models/$0/feedback\",MODEL_VERSION_FEEDBACK_PATH:\"/models/$0/versions/$1/feedback\",PREDICT_PATH:\"/models/$0/outputs\",VERSION_PREDICT_PATH:\"/models/$0/versions/$1/outputs\",CONCEPTS_PATH:\"/concepts\",CONCEPT_PATH:\"/concepts/$0\",CONCEPT_SEARCH_PATH:\"/concepts/searches\",MODEL_INPUTS_PATH:\"/models/$0/inputs\",MODEL_VERSION_INPUTS_PATH:\"/models/$0/versions/$1/inputs\",MODEL_VERSION_METRICS_PATH:\"/models/$0/versions/$1/metrics\",INPUTS_PATH:\"/inputs\",INPUT_PATH:\"/inputs/$0\",INPUTS_STATUS_PATH:\"/inputs/status\",SEARCH_PATH:\"/searches\",SEARCH_FEEDBACK_PATH:\"/searches/feedback\",WORKFLOWS_PATH:\"/workflows\",WORKFLOW_PATH:\"/workflows/$0\",WORKFLOW_RESULTS_PATH:\"/workflows/$0/results\"},ERRORS:{paramsRequired:function(e){var t=Array.isArray(e)?e:[e];return new Error(\"The following \"+(1<t.length?\"params are\":\"param is\")+\" required: \"+t.join(\", \"))},MAX_INPUTS:new Error(\"Number of inputs passed exceeded max of 128\"),INVALID_GEOLIMIT_TYPE:new Error(\"Incorrect geo_limit type. Value must be any of the following: \"+t.join(\", \")),INVALID_DELETE_ARGS:new Error(\"Wrong arguments passed. You can only delete all models (provide no arguments), delete select models (provide list of ids),\\n    delete a single model (providing a single id) or delete a model version (provide a single id and version id)\")},STATUS:{MODEL_QUEUED_FOR_TRAINING:\"21103\",MODEL_TRAINING:\"21101\"},replaceVars:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=e;return t.forEach(function(e,t){0===t&&(e=encodeURIComponent(e)),n=n.replace(new RegExp(\"\\\\$\"+t,\"g\"),e)}),n},getBasePath:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:\"https://api.clarifai.com\",t=arguments[1],n=arguments[2];return t&&n?e+\"/v2/users/\"+t+\"/apps/\"+n:e+\"/v2\"},GEO_LIMIT_TYPES:t,MAX_BATCH_SIZE:128,SYNC_TIMEOUT:36e4,POLLTIME:2e3}},function(e,t,n){\"use strict\";var r=n(6),i=n(50),o=n(3),a=o.GEO_LIMIT_TYPES,s=o.ERRORS,c=n(2),u=c.checkType,f=c.clone,l=n(19).version;e.exports={wrapToken:function(e,t){return new r(function(n,r){if(e.apiKey){var i={Authorization:\"Key \"+e.apiKey,\"X-Clarifai-Client\":\"js:\"+l};return t(i).then(n,r)}if(e.sessionToken){var o={\"X-Clarifai-Session-Token\":e.sessionToken,\"X-Clarifai-Client\":\"js:\"+l};return t(o).then(n,r)}e.token().then(function(e){var i={Authorization:\"Bearer \"+e.accessToken,\"X-Clarifai-Client\":\"js:\"+l};t(i).then(n,r)},r)})},formatModel:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n={};if(null===t.id||void 0===t.id)throw s.paramsRequired(\"Model ID\");return n.id=t.id,t.name&&(n.name=t.name),n.output_info={},void 0!==t.conceptsMutuallyExclusive&&(n.output_info.output_config=n.output_info.output_config||{},n.output_info.output_config.concepts_mutually_exclusive=!!t.conceptsMutuallyExclusive),void 0!==t.closedEnvironment&&(n.output_info.output_config=n.output_info.output_config||{},n.output_info.output_config.closed_environment=!!t.closedEnvironment),t.concepts&&(n.output_info.data={concepts:t.concepts.map(e.exports.formatConcept)}),n},formatInput:function(e,t){var n=u(/String/,e)?{url:e}:e,r={id:n.id||null,data:{}};return n.concepts&&(r.data.concepts=n.concepts),n.metadata&&(r.data.metadata=n.metadata),n.geo&&(r.data.geo={geo_point:n.geo}),n.regions&&(r.data.regions=n.regions),!1!==t&&(r.data.image={url:n.url,base64:n.base64,crop:n.crop},e.allowDuplicateUrl&&(r.data.image.allow_duplicate_url=!0)),r},formatMediaPredict:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"image\",r=void 0;(r=u(/String/,e)?i.isWebUri(e)?{url:e}:{base64:e}:Object.assign({},e)).id&&(t=r.id,delete r.id);var o={data:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,r)};return t&&(o.id=t),o},formatImagesSearch:function(e){var t,n={input:{data:{}}},r=[];if(t=u(/String/,e)?{url:e}:e.url||e.base64?{image:{url:e.url,base64:e.base64,crop:e.crop}}:{},n.input.data=t,e.id&&(n.input.id=e.id,n.input.data={image:{}},e.crop&&(n.input.data.image.crop=e.crop)),void 0!==e.metadata&&(n.input.data.metadata=e.metadata),void 0!==e.geo)if(u(/Array/,e.geo))n.input.data.geo={geo_box:e.geo.map(function(e){return{geo_point:e}})};else if(u(/Object/,e.geo)){if(-1===a.indexOf(e.geo.type))throw s.INVALID_GEOLIMIT_TYPE;n.input.data.geo={geo_point:{latitude:e.geo.latitude,longitude:e.geo.longitude},geo_limit:{type:e.geo.type,value:e.geo.value}}}if(\"input\"!==e.type&&n.input.data.image)if(n.input.data.metadata||n.input.data.geo){var i={input:{data:f(n.input.data)}},o={input:{data:f(n.input.data)}};delete i.input.data.image,delete o.input.data.metadata,delete o.input.data.geo,n=[{output:o},i]}else n=[{output:n}];return r=r.concat(n)},formatConcept:function(e){var t=e;return u(/String/,e)&&(t={id:e}),t},formatConceptsSearch:function(e){u(/String/,e)&&(e={id:e});var t={},n=\"input\"===e.type?\"input\":\"output\";return delete e.type,t[n]={data:{concepts:[e]}},t},formatObjectForSnakeCase:function(e){return Object.keys(e).reduce(function(t,n){return t[n.replace(/([A-Z])/g,function(e){return\"_\"+e.toLowerCase()})]=e[n],t},{})}}},function(e,t,n){\"use strict\";function r(){}function i(e){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"Promise constructor's argument is not a function\");this._40=0,this._65=0,this._55=null,this._72=null,e===r||f(e,this)}function o(e,t){for(;3===e._65;)e=e._55;return i._37&&i._37(e),0===e._65?0===e._40?(e._40=1,void(e._72=t)):1===e._40?(e._40=2,void(e._72=[e._72,t])):void e._72.push(t):void function(e,t){l(function(){var n=1===e._65?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return h=e,p}}(n,e._55);r===p?s(t.promise,h):a(t.promise,r)}else 1===e._65?a(t.promise,e._55):s(t.promise,e._55)})}(e,t)}function a(e,t){if(t===e)return s(e,new TypeError(\"A promise cannot be resolved with itself.\"));if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=function(e){try{return e.then}catch(e){return h=e,p}}(t);if(n===p)return s(e,h);if(n===e.then&&t instanceof i)return e._65=3,e._55=t,void c(e);if(\"function\"==typeof n)return void f(n.bind(t),e)}e._65=1,e._55=t,c(e)}function s(e,t){e._65=2,e._55=t,i._87&&i._87(e,t),c(e)}function c(e){if(1===e._40&&(o(e,e._72),e._72=null),2===e._40){for(var t=0;t<e._72.length;t++)o(e,e._72[t]);e._72=null}}function u(e,t,n){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return h=e,p}}(e,function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))});n||r!==p||(n=!0,s(t,h))}var l=n(18),h=null,p={};e.exports=i,i._37=null,i._87=null,i._61=r,i.prototype.then=function(e,t){if(this.constructor!==i)return function(e,t,n){return new e.constructor(function(a,s){var c=new i(r);c.then(a,s),o(e,new u(t,n,c))})}(this,e,t);var n=new i(r);return o(this,new u(e,t,n)),n}},function(e,t,n){\"use strict\";e.exports=n(41)},function(e){var t=function(){return this}();try{t=t||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(t=window)}e.exports=t},function(e,t,n){\"use strict\";var r=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=n(52),a=n(3),s=a.API,c=a.replaceVars,u=s.CONCEPTS_PATH,f=s.CONCEPT_PATH,l=s.CONCEPT_SEARCH_PATH,h=n(4),p=h.wrapToken,d=h.formatConcept,g=n(2),v=g.isSuccess,_=g.checkType,m=function(){function e(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this._config=t,this.rawData=r,r.forEach(function(e,t){n[t]=new o(n._config,e)}),this.length=r.length}return r(e,[{key:\"list\",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},r=\"\"+this._config.basePath+u;return p(this._config,function(o){return new Promise(function(a,s){i.get(r,{headers:o,params:{page:n.page,per_page:n.perPage}}).then(function(n){v(n)?a(new e(t._config,n.data.concepts)):s(n)},s)})})}},{key:\"get\",value:function(e){var t=this,n=\"\"+this._config.basePath+c(f,[e]);return p(this._config,function(e){return new Promise(function(r,a){i.get(n,{headers:e}).then(function(e){v(e)?r(new o(t._config,e.data.concept)):a(e)},a)})})}},{key:\"create\",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_(/(Object|String)/,n)&&(n=[n]);var r={concepts:n.map(d)},o=\"\"+this._config.basePath+u;return p(this._config,function(n){return new Promise(function(a,s){i.post(o,r,{headers:n}).then(function(n){v(n)?a(new e(t._config,n.data.concepts)):s(n)},s)})})}},{key:\"search\",value:function(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=\"\"+this._config.basePath+l;return p(this._config,function(a){var s={concept_query:{name:t,language:r}};return new Promise(function(t,r){i.post(o,s,{headers:a}).then(function(i){v(i)?t(new e(n._config,i.data.concepts)):r(i)},r)})})}},{key:\"update\",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"overwrite\";_(/Array/,n)||(n=[n]);var o={concepts:n,action:r},a=\"\"+this._config.basePath+u;return p(this._config,function(n){return new Promise(function(r,s){i.patch(a,o,{headers:n}).then(function(n){v(n)?r(new e(t._config,n.data.concepts)):s(n)},s)})})}}]),e}();e.exports=m},function(e){function t(){throw new Error(\"setTimeout has not been defined\")}function n(){throw new Error(\"clearTimeout has not been defined\")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===t||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(){p&&l&&(p=!1,l.length?h=l.concat(h):d=-1,h.length&&o())}function o(){if(!p){var e=r(i);p=!0;for(var t=h.length;t;){for(l=h,h=[];++d<t;)l&&l[d].run();d=-1,t=h.length}l=null,p=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function s(){}var c,u,f=e.exports={};!function(){try{c=\"function\"==typeof setTimeout?setTimeout:t}catch(e){c=t}try{u=\"function\"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var l,h=[],p=!1,d=-1;f.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new a(e,t)),1!==h.length||p||r(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},f.title=\"browser\",f.browser=!0,f.env={},f.argv=[],f.version=\"\",f.versions={},f.on=s,f.addListener=s,f.once=s,f.off=s,f.removeListener=s,f.removeAllListeners=s,f.emit=s,f.prependListener=s,f.prependOnceListener=s,f.listeners=function(){return[]},f.binding=function(){throw new Error(\"process.binding is not supported\")},f.cwd=function(){return\"/\"},f.chdir=function(){throw new Error(\"process.chdir is not supported\")},f.umask=function(){return 0}},function(e){\"use strict\";e.exports=function(e,t){return function(){for(var n=Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){\"use strict\";function r(e){return encodeURIComponent(e).replace(/%40/gi,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}var i=n(0);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,function(e,t){null==e||(i.isArray(e)?t+=\"[]\":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+\"=\"+r(e))}))}),o=a.join(\"&\")}if(o){var s=e.indexOf(\"#\");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+o}return e}},function(e){\"use strict\";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){\"use strict\";(function(t){function r(e,t){!i.isUndefined(e)&&i.isUndefined(e[\"Content-Type\"])&&(e[\"Content-Type\"]=t)}var i=n(0),o=n(29),a={\"Content-Type\":\"application/x-www-form-urlencoded\"},s={adapter:function(){var e;return\"undefined\"==typeof XMLHttpRequest?void 0!==t&&\"[object process]\"===Object.prototype.toString.call(t)&&(e=n(14)):e=n(14),e}(),transformRequest:[function(e,t){return o(t,\"Accept\"),o(t,\"Content-Type\"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,\"application/x-www-form-urlencoded;charset=utf-8\"),e.toString()):i.isObject(e)?(r(t,\"application/json;charset=utf-8\"),JSON.stringify(e)):e}],transformResponse:[function(e){if(\"string\"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,validateStatus:function(e){return 200<=e&&300>e},headers:{common:{Accept:\"application/json, text/plain, */*\"}}};i.forEach([\"delete\",\"get\",\"head\"],function(e){s.headers[e]={}}),i.forEach([\"post\",\"put\",\"patch\"],function(e){s.headers[e]=i.merge(a)}),e.exports=s}).call(this,n(9))},function(e,t,n){\"use strict\";var r=n(0),i=n(30),o=n(11),a=n(32),s=n(35),c=n(36),u=n(15);e.exports=function(e){return new Promise(function(t,f){var l=e.data,h=e.headers;r.isFormData(l)&&delete h[\"Content-Type\"];var p=new XMLHttpRequest;if(e.auth){var d=e.auth.username||\"\",g=e.auth.password||\"\";h.Authorization=\"Basic \"+btoa(d+\":\"+g)}var v=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf(\"file:\"))){var n=\"getAllResponseHeaders\"in p?s(p.getAllResponseHeaders()):null,r={data:e.responseType&&\"text\"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};i(t,f,r),p=null}},p.onabort=function(){p&&(f(u(\"Request aborted\",e,\"ECONNABORTED\",p)),p=null)},p.onerror=function(){f(u(\"Network Error\",e,null,p)),p=null},p.ontimeout=function(){var t=\"timeout of \"+e.timeout+\"ms exceeded\";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),f(u(t,e,\"ECONNABORTED\",p)),p=null},r.isStandardBrowserEnv()){var _=n(37),m=(e.withCredentials||c(v))&&e.xsrfCookieName?_.read(e.xsrfCookieName):void 0;m&&(h[e.xsrfHeaderName]=m)}if(\"setRequestHeader\"in p&&r.forEach(h,function(e,t){void 0===l&&\"content-type\"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if(\"json\"!==e.responseType)throw t}\"function\"==typeof e.onDownloadProgress&&p.addEventListener(\"progress\",e.onDownloadProgress),\"function\"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener(\"progress\",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),f(e),p=null)}),void 0===l&&(l=null),p.send(l)})}},function(e,t,n){\"use strict\";var r=n(31);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){\"use strict\";var r=n(0);e.exports=function(e,t){t=t||{};var n={},i=[\"url\",\"method\",\"params\",\"data\"],o=[\"headers\",\"auth\",\"proxy\"],a=[\"baseURL\",\"url\",\"transformRequest\",\"transformResponse\",\"paramsSerializer\",\"timeout\",\"withCredentials\",\"adapter\",\"responseType\",\"xsrfCookieName\",\"xsrfHeaderName\",\"onUploadProgress\",\"onDownloadProgress\",\"maxContentLength\",\"validateStatus\",\"maxRedirects\",\"httpAgent\",\"httpsAgent\",\"cancelToken\",\"socketPath\"];r.forEach(i,function(e){void 0!==t[e]&&(n[e]=t[e])}),r.forEach(o,function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):void 0===t[i]?r.isObject(e[i])?n[i]=r.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i]):n[i]=t[i]}),r.forEach(a,function(r){void 0===t[r]?void 0!==e[r]&&(n[r]=e[r]):n[r]=t[r]});var s=i.concat(o).concat(a),c=Object.keys(t).filter(function(e){return-1===s.indexOf(e)});return r.forEach(c,function(r){void 0===t[r]?void 0!==e[r]&&(n[r]=e[r]):n[r]=t[r]}),n}},function(e){\"use strict\";function t(e){this.message=e}t.prototype.toString=function(){return\"Cancel\"+(this.message?\": \"+this.message:\"\")},t.prototype.__CANCEL__=!0,e.exports=t},function(e,t,n){\"use strict\";(function(t){function n(e){a.length||(o(),!0),a[a.length]=e}function r(){for(;s<a.length;){var e=s;if(++s,a[e].call(),s>c){for(var t=0,n=a.length-s;t<n;t++)a[t]=a[t+s];a.length-=s,s=0}}a.length=0,s=0,!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,a=[],s=0,c=1024,u=void 0===t?self:t,f=u.MutationObserver||u.WebKitMutationObserver;o=\"function\"==typeof f?function(e){var t=1,n=new f(e),r=document.createTextNode(\"\");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(this,n(7))},function(e){e.exports={_from:\"clarifai\",_id:\"clarifai@2.9.1\",_inBundle:!1,_integrity:\"sha512-xUxl0bNhBTRn93BBjzYG3nQ/BRZI5VcAZOn1hsukTEFgE31grtegztMT26AbFdmWkCJin1dM6TaC4APSHYs/Ug==\",_location:\"/clarifai\",_phantomChildren:{},_requested:{type:\"tag\",registry:!0,raw:\"clarifai\",name:\"clarifai\",escapedName:\"clarifai\",rawSpec:\"\",saveSpec:null,fetchSpec:\"latest\"},_requiredBy:[\"#USER\",\"/\"],_resolved:\"https://registry.npmjs.org/clarifai/-/clarifai-2.9.1.tgz\",_shasum:\"7dd21c3265de34b557ee3a216cb31e2908c6944c\",_spec:\"clarifai\",_where:\"/Users/johnymoty/Desktop/Courses/Web Development/Projects/facerecognitionapi\",author:{name:\"Clarifai Inc.\"},bugs:{url:\"https://github.com/Clarifai/clarifai-javascript/issues\"},bundleDependencies:!1,dependencies:{axios:\">=0.11.1 <2\",promise:\"^7.1.1\",\"valid-url\":\"^1.0.9\"},deprecated:!1,description:\"Official Clarifai Javascript SDK\",devDependencies:{\"axios-mock-adapter\":\"^1.16.0\",\"babel-eslint\":\"^6.1.2\",\"babel-preset-es2015\":\"^6.14.0\",\"babel-register\":\"^6.14.0\",babelify:\"^7.3.0\",del:\"^2.0.2\",envify:\"^3.4.0\",gulp:\"^3.9.1\",\"gulp-babel\":\"^6.1.2\",\"gulp-browserify\":\"^0.5.1\",\"gulp-eslint\":\"^2.0.0\",\"gulp-insert\":\"^0.5.0\",\"gulp-jasmine\":\"^4.0.0\",\"gulp-notify\":\"2.2.0\",\"gulp-rename\":\"^1.2.2\",\"gulp-replace-task\":\"^0.11.0\",\"gulp-uglify\":\"^1.4.1\",\"gulp-util\":\"^3.0.6\",jsdoc:\"^3.4.1\",minami:\"^1.1.1\",\"release-it\":\"^2.9.0\"},homepage:\"https://github.com/Clarifai/clarifai-javascript#readme\",license:\"Apache-2.0\",main:\"dist/index.js\",name:\"clarifai\",repository:{type:\"git\",url:\"git+https://github.com/Clarifai/clarifai-javascript.git\"},scripts:{build:\"npm run clean && gulp build && npm run jsdoc\",clean:\"gulp cleanbuild\",jsdoc:\"jsdoc src/* -t node_modules/minami -d docs/$npm_package_version && jsdoc src/* -t node_modules/minami -d docs/latest\",release:\"release-it\",test:\"gulp test\",unittest:\"gulp unittest\",watch:\"gulp watch\"},version:\"2.9.1\"}},function(e,t,n){\"use strict\";var r=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),o=n(1),a=n(3),s=a.API,c=a.replaceVars,u=s.WORKFLOWS_PATH,f=s.WORKFLOW_PATH,l=s.WORKFLOW_RESULTS_PATH,h=n(4),p=h.wrapToken,d=h.formatInput,g=n(2).checkType,v=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this._config=t,this.rawData=n,this.id=n.id,this.createdAt=n.created_at||n.createdAt,this.appId=n.app_id||n.appId}return r(e,[{key:\"create\",value:function(e,t){var n=\"\"+this._config.basePath+u,r={workflows:[{id:e,nodes:[{id:\"concepts\",model:{id:t.modelId,model_version:{id:t.modelVersionId}}}]}]};return p(this._config,function(e){return new Promise(function(t,i){o.post(n,r,{headers:e}).then(function(e){var n=e.data.workflows[0].id;t(n)},i)})})}},{key:\"delete\",value:function(e){var t=\"\"+this._config.basePath+c(f,[e]);return p(this._config,function(e){return new Promise(function(n,r){o.delete(t,{headers:e}).then(function(e){var t=e.data;n(t)},r)})})}},{key:\"predict\",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=\"\"+this._config.basePath+c(l,[e]);return g(/(Object|String)/,t)&&(t=[t]),p(this._config,function(e){var a={inputs:t.map(d)};return n&&0<Object.getOwnPropertyNames(n).length&&(a.output_config=(0,i.formatObjectForSnakeCase)(n)),new Promise(function(t,n){o.post(r,a,{headers:e}).then(function(e){var n=e.data;t(n)},n)})})}}]),e}();e.exports=v},function(e,t,n){n(22)},function(e,t,n){\"use strict\";(function(t){var r=n(23),i=n(19).version;e.exports=t.Clarifai={version:i,App:r,GENERAL_MODEL:\"aaa03c23b3724a16a56b629203edc62c\",FOOD_MODEL:\"bd367be194cf45149e75f01d59f77ba7\",TRAVEL_MODEL:\"eee28c313d69466f836ab83287a54ed9\",NSFW_MODEL:\"e9576d86d2004ed1a38ba0cf39ecb4b1\",WEDDINGS_MODEL:\"c386b7a870114f4a87477c0824499348\",WEDDING_MODEL:\"c386b7a870114f4a87477c0824499348\",COLOR_MODEL:\"eeed0b6733a644cea07cf4c60f87ebb7\",CLUSTER_MODEL:\"cccbe437d6e54e2bb911c6aa292fb072\",FACE_DETECT_MODEL:\"a403429f2ddf4b49b307e318f00e528b\",FOCUS_MODEL:\"c2cf7cecd8a6427da375b9f35fcd2381\",LOGO_MODEL:\"c443119bf2ed4da98487520d01a0b1e3\",DEMOGRAPHICS_MODEL:\"c0c0ac362b03416da06ab3fa36fb58e3\",GENERAL_EMBED_MODEL:\"bbb5f41425b8468d9b7a554ff10f8581\",FACE_EMBED_MODEL:\"d02b4508df58432fbb84e800597b8959\",APPAREL_MODEL:\"e0be3b9d6a454f0493ac3a30784001ff\",MODERATION_MODEL:\"d16f390eb32cad478c7ae150069bd2c6\",TEXTURES_AND_PATTERNS:\"fbefb47f9fdb410e8ce14f24f54b47ff\",LANDSCAPE_QUALITY:\"bec14810deb94c40a05f1f0eb3c91403\",PORTRAIT_QUALITY:\"de9bd05cfdbf4534af151beb2a5d0953\",CELEBRITY_MODEL:\"e466caa0619f444ab97497640cefc4dc\"}}).call(this,n(7))},function(e,t,n){\"use strict\";(function(t,r){var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=n(2).checkType,c=n(40),u=n(53),f=n(8),l=n(20),h=n(57),p=n(58),d=n(3),g=d.API,v=d.ERRORS,_=d.getBasePath,m=g.TOKEN_PATH;\"undefined\"==typeof window||\"Promise\"in window||(window.Promise=n(6)),void 0===t||\"Promise\"in t||(t.Promise=n(6));var y=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var o=t;(\"object\"!==(void 0===t?\"undefined\":i(t))||null===t)&&((o=r||{}).clientId=t,o.clientSecret=n),this._validate(o),this._init(o)}return o(e,[{key:\"getToken\",value:function(){return this._config.token()}},{key:\"setToken\",value:function(e){var t=e,n=(new Date).getTime();return((t=\"string\"==typeof e?{accessToken:e,expiresIn:176400}:{accessToken:e.access_token||e.accessToken,expiresIn:e.expires_in||e.expiresIn}).accessToken&&t.expiresIn||t.access_token&&t.expires_in)&&(t.expireTime||(t.expireTime=n+1e3*t.expiresIn),this._config._token=t,!0)}},{key:\"_validate\",value:function(e){var t=e.clientId,n=e.clientSecret,r=e.token,i=e.apiKey,o=e.sessionToken;if((t||n)&&console.warn(\"Client ID/secret has been deprecated. Please switch to using the API key. See here how to do the switch: https://blog.clarifai.com/introducing-api-keys-a-safer-way-to-authenticate-your-applications\"),!(t&&n||r||i||o))throw v.paramsRequired([\"apiKey\"])}},{key:\"_init\",value:function(e){var t=this,n=e.apiEndpoint||r&&r.env&&r.env.API_ENDPOINT||\"https://api.clarifai.com\";this._config={apiEndpoint:n,clientId:e.clientId,clientSecret:e.clientSecret,apiKey:e.apiKey,sessionToken:e.sessionToken,basePath:_(n,e.userId,e.appId),token:function(){return new Promise(function(e,n){var r=(new Date).getTime();s(/Object/,t._config._token)&&t._config._token.expireTime>r?e(t._config._token):t._getToken(e,n)})}},e.token&&this.setToken(e.token),this.models=new c(this._config),this.inputs=new u(this._config),this.concepts=new f(this._config),this.workflow=new l(this._config),this.workflows=new h(this._config),this.solutions=new p(this._config)}},{key:\"_getToken\",value:function(e,t){var n=this;this._requestToken().then(function(r){200===r.status?(n.setToken(r.data),e(n._config._token)):t(r)},t)}},{key:\"_requestToken\",value:function(){var e=\"\"+this._config.basePath+m,t=this._config.clientId,n=this._config.clientSecret;return a({url:e,method:\"POST\",auth:{username:t,password:n}})}}]),e}();e.exports=y}).call(this,n(7),n(9))},function(e,t,n){\"use strict\";function r(e){var t=new a(e),n=o(a.prototype.request,t);return i.extend(n,a.prototype,t),i.extend(n,t),n}var i=n(0),o=n(10),a=n(25),s=n(16),c=r(n(13));c.Axios=a,c.create=function(e){return r(s(c.defaults,e))},c.Cancel=n(17),c.CancelToken=n(38),c.isCancel=n(12),c.all=function(e){return Promise.all(e)},c.spread=n(39),e.exports=c,e.exports.default=c},function(e,t,n){\"use strict\";function r(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var i=n(0),o=n(11),a=n(26),s=n(27),c=n(16);r.prototype.request=function(e){\"string\"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method=e.method?e.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():\"get\";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.prototype.getUri=function(e){return e=c(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\\?/,\"\")},i.forEach([\"delete\",\"get\",\"head\",\"options\"],function(e){r.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach([\"post\",\"put\",\"patch\"],function(e){r.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){\"use strict\";function r(){this.handlers=[]}var i=n(0);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){\"use strict\";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var i=n(0),o=n(28),a=n(12),s=n(13);e.exports=function(e){return r(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return r(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(r(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){\"use strict\";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){\"use strict\";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){\"use strict\";var r=n(15);e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r(\"Request failed with status code \"+n.status,n.config,null,n.request,n))}},function(e){\"use strict\";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){\"use strict\";var r=n(33),i=n(34);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e){\"use strict\";e.exports=function(e){return/^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(e)}},function(e){\"use strict\";e.exports=function(e,t){return t?e.replace(/\\/+$/,\"\")+\"/\"+t.replace(/^\\/+/,\"\"):e}},function(e,t,n){\"use strict\";var r=n(0),i=[\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split(\"\\n\"),function(e){if(o=e.indexOf(\":\"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&0<=i.indexOf(t))return;a[t]=\"set-cookie\"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+\", \"+n:n}}),a):a}},function(e,t,n){\"use strict\";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute(\"href\",t),t=i.href),i.setAttribute(\"href\",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,\"\"):\"\",host:i.host,search:i.search?i.search.replace(/^\\?/,\"\"):\"\",hash:i.hash?i.hash.replace(/^#/,\"\"):\"\",hostname:i.hostname,port:i.port,pathname:\"/\"===i.pathname.charAt(0)?i.pathname:\"/\"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement(\"a\");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0}},function(e,t,n){\"use strict\";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+\"=\"+encodeURIComponent(t)),r.isNumber(n)&&s.push(\"expires=\"+new Date(n).toGMTString()),r.isString(i)&&s.push(\"path=\"+i),r.isString(o)&&s.push(\"domain=\"+o),!0===a&&s.push(\"secure\"),document.cookie=s.join(\"; \")},read:function(e){var t=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+e+\")=([^;]*)\"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,\"\",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){\"use strict\";function r(e){if(\"function\"!=typeof e)throw new TypeError(\"executor must be a function.\");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}var i=n(17);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e){\"use strict\";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){\"use strict\";var r=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=n(6),a=n(48),s=n(8),c=n(3),u=c.API,f=c.ERRORS,l=c.replaceVars,h=n(2),p=h.isSuccess,d=h.checkType,g=h.clone,v=n(4),_=v.wrapToken,m=v.formatModel,y=u.MODELS_PATH,w=u.MODEL_PATH,b=u.MODEL_SEARCH_PATH,T=u.MODEL_VERSION_PATH,P=function(){function e(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this._config=t,this.rawData=r,r.forEach(function(e,t){n[t]=new a(n._config,e)}),this.length=r.length}return r(e,[{key:\"initModel\",value:function(e){var t,n=this,r={};return d(/String/,e)?r.id=e:r=e,t=r.id?function(e){e(new a(n._config,r))}:function(e,t){n.search(r.name,r.type).then(function(t){r.version?e(t.rawData.filter(function(e){return e.modelVersion.id===r.version})):e(t[0])},t).catch(t)},new o(t)}},{key:\"predict\",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return d(/Boolean/,r)&&(console.warn('\"isVideo\" argument is deprecated, consider using the configuration object instead'),r={video:r}),e.language&&(r.language=e.language),new o(function(i,o){n.initModel(e).then(function(e){e.predict(t,r).then(i,o).catch(o)},o)})}},{key:\"train\",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new o(function(r,i){t.initModel(e).then(function(e){e.train(n).then(r,i).catch(i)},i)})}},{key:\"feedback\",value:function(e,t,n){var r=this;return new o(function(i,o){r.initModel(e).then(function(e){return e.feedback(t,n)}).then(function(e){return i(e)}).catch(function(e){return o(e)})})}},{key:\"getVersion\",value:function(e,t){var n=this;return new o(function(r,i){n.initModel(e).then(function(e){e.getVersion(t).then(r,i).catch(i)},i)})}},{key:\"getVersions\",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{page:1,perPage:20};return new o(function(r,i){t.initModel(e).then(function(e){e.getVersions(n).then(r,i).catch(i)},i)})}},{key:\"getOutputInfo\",value:function(e){var t=this;return new o(function(n,r){t.initModel(e).then(function(e){e.getOutputInfo().then(n,r).catch(r)},r)})}},{key:\"list\",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},r=\"\"+this._config.basePath+y;return _(this._config,function(a){return new o(function(o,s){i.get(r,{params:{per_page:n.perPage,page:n.page},headers:a}).then(function(n){p(n)?o(new e(t._config,n.data.models)):s(n)},s)})})}},{key:\"create\",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},c=n instanceof s?n.toObject(\"id\"):n.map(function(e){var t=e;return d(/String/,e)&&(t={id:e}),t}),u=e;if(d(/String/,e)&&(u={id:e,name:e}),void 0===u.id)throw f.paramsRequired(\"Model ID\");var l=\"\"+this._config.basePath+y,h={model:u};return h.model.output_info={data:{concepts:c},output_config:{concepts_mutually_exclusive:!!r.conceptsMutuallyExclusive,closed_environment:!!r.closedEnvironment}},_(this._config,function(e){return new o(function(n,r){i.post(l,h,{headers:e}).then(function(e){p(e)?n(new a(t._config,e.data.model)):r(e)},r)})})}},{key:\"get\",value:function(e){var t=this,n=\"\"+this._config.basePath+l(w,[e]);return _(this._config,function(e){return new o(function(r,o){i.get(n,{headers:e}).then(function(e){p(e)?r(new a(t._config,e.data.model)):o(e)},o)})})}},{key:\"update\",value:function(t){var n=this,r=\"\"+this._config.basePath+y,a={models:(Array.isArray(t)?t:[t]).map(m)};return a.action=t.action||\"merge\",_(this._config,function(t){return new o(function(o,s){i.patch(r,a,{headers:t}).then(function(t){p(t)?o(new e(n._config,t.data.models)):s(t)},s)})})}},{key:\"mergeConcepts\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.action=\"merge\",this.update(e)}},{key:\"deleteConcepts\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.action=\"remove\",this.update(e)}},{key:\"overwriteConcepts\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.action=\"overwrite\",this.update(e)}},{key:\"delete\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=void 0,r=void 0,a=void 0,s=e;if(d(/String/,e)||d(/Array/,e)&&1===e.length)r=t?\"\"+this._config.basePath+l(T,[s,t]):\"\"+this._config.basePath+l(w,[s]),n=_(this._config,function(e){return new o(function(t,n){i.delete(r,{headers:e}).then(function(e){var n=g(e.data);n.rawData=g(e.data),t(n)},n)})});else{if(e||t){if(t||!(1<e.length))throw f.INVALID_DELETE_ARGS;r=\"\"+this._config.basePath+y,a={ids:e}}else r=\"\"+this._config.basePath+y,a={delete_all:!0};n=_(this._config,function(e){return new o(function(t,n){i({method:\"delete\",url:r,data:a,headers:e}).then(function(e){var n=g(e.data);n.rawData=g(e.data),t(n)},n)})})}return n}},{key:\"search\",value:function(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=\"\"+this._config.basePath+b;return _(this._config,function(s){var c={model_query:{name:t,type:r}};return new o(function(t,r){i.post(a,c,{headers:s}).then(function(i){p(i)?t(new e(n._config,i.data.models)):r(i)},r)})})}}]),e}();e.exports=P},function(e,t,n){\"use strict\";e.exports=n(5),n(42),n(43),n(44),n(45),n(47)},function(e,t,n){\"use strict\";var r=n(5);e.exports=r,r.prototype.done=function(){(arguments.length?this.then.apply(this,arguments):this).then(null,function(e){setTimeout(function(){throw e},0)})}},function(e,t,n){\"use strict\";var r=n(5);e.exports=r,r.prototype.finally=function(e){return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})}},function(e,t,n){\"use strict\";function r(e){var t=new i(i._61);return t._65=1,t._55=e,t}var i=n(5);e.exports=i;var o=r(!0),a=r(!1),s=r(null),c=r(void 0),u=r(0),f=r(\"\");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return c;if(!0===e)return o;if(!1===e)return a;if(0===e)return u;if(\"\"===e)return f;if(\"object\"==typeof e||\"function\"==typeof e)try{var t=e.then;if(\"function\"==typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&(\"object\"==typeof s||\"function\"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._65;)s=s._55;return 1===s._65?r(a,s._55):(2===s._65&&n(s._55),void s.then(function(e){r(a,e)},n))}var c=s.then;if(\"function\"==typeof c)return void new i(c.bind(s)).then(function(e){r(a,e)},n)}t[a]=s,0==--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){\"use strict\";var r=n(5),i=n(46);e.exports=r,r.denodeify=function(e,t){return\"number\"==typeof t&&t!==1/0?function(e,t){for(var n=[],i=0;i<t;i++)n.push(\"a\"+i);var a=[\"return function (\"+n.join(\",\")+\") {\",\"var self = this;\",\"return new Promise(function (rs, rj) {\",\"var res = fn.call(\",[\"self\"].concat(n).concat([o]).join(\",\"),\");\",\"if (res &&\",'(typeof res === \"object\" || typeof res === \"function\") &&','typeof res.then === \"function\"',\") {rs(res);}\",\"});\",\"};\"].join(\"\");return Function([\"Promise\",\"fn\"],a)(r,e)}(e,t):function(e){for(var t=Math.max(e.length-1,3),n=[],i=0;i<t;i++)n.push(\"a\"+i);var a=[\"return function (\"+n.join(\",\")+\") {\",\"var self = this;\",\"var args;\",\"var argLength = arguments.length;\",\"if (arguments.length > \"+t+\") {\",\"args = new Array(arguments.length + 1);\",\"for (var i = 0; i < arguments.length; i++) {\",\"args[i] = arguments[i];\",\"}\",\"}\",\"return new Promise(function (rs, rj) {\",\"var cb = \"+o+\";\",\"var res;\",\"switch (argLength) {\",n.concat([\"extra\"]).map(function(e,t){return\"case \"+t+\":res = fn.call(\"+[\"self\"].concat(n.slice(0,t)).concat(\"cb\").join(\",\")+\");break;\"}).join(\"\"),\"default:\",\"args[argLength] = cb;\",\"res = fn.apply(self, args);\",\"}\",\"if (res &&\",'(typeof res === \"object\" || typeof res === \"function\") &&','typeof res.then === \"function\"',\") {rs(res);}\",\"});\",\"};\"].join(\"\");return Function([\"Promise\",\"fn\"],a)(r,e)}(e)};var o=\"function (err, res) {if (err) { rj(err); } else { rs(res); }}\";r.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n=\"function\"==typeof t[t.length-1]?t.pop():null,o=this;try{return e.apply(this,arguments).nodeify(n,o)}catch(e){if(null==n)return new r(function(t,n){n(e)});i(function(){n.call(o,e)})}}},r.prototype.nodeify=function(e,t){return\"function\"==typeof e?void this.then(function(n){i(function(){e.call(t,null,n)})},function(n){i(function(){e.call(t,n)})}):this}},function(e,t,n){\"use strict\";function r(e){var t;(t=a.length?a.pop():new i).task=e,o(t)}function i(){this.task=null}var o=n(18),a=[],s=[],c=o.makeRequestCallFromTimer(function(){if(s.length)throw s.shift()});e.exports=r,i.prototype.call=function(){try{this.task.call()}catch(e){r.onerror?r.onerror(e):(s.push(e),c())}finally{this.task=null,a[a.length]=this}}},function(e,t,n){\"use strict\";var r=n(5);e.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._65)return this._55.getValue();if(!this.isFulfilled())throw new Error(\"Cannot get a value of an unfulfilled promise.\");return this._55},r.prototype.getReason=function(){if(3===this._65)return this._55.getReason();if(!this.isRejected())throw new Error(\"Cannot get a rejection reason of a non-rejected promise.\");return this._55},r.prototype.getState=function(){return 3===this._65?this._55.getState():-1===this._65||-2===this._65?0:this._65}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},function(e,t,n){\"use strict\";var r=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=n(49),a=n(2),s=a.isSuccess,c=a.checkType,u=a.clone,f=n(3),l=f.API,h=f.SYNC_TIMEOUT,p=f.replaceVars,d=f.STATUS,g=f.POLLTIME,v=d.MODEL_QUEUED_FOR_TRAINING,_=d.MODEL_TRAINING,m=n(4),y=m.wrapToken,w=m.formatMediaPredict,b=m.formatModel,T=m.formatObjectForSnakeCase,P=l.MODEL_VERSIONS_PATH,E=l.MODEL_VERSION_PATH,O=l.MODELS_PATH,A=l.MODEL_FEEDBACK_PATH,k=l.MODEL_VERSION_FEEDBACK_PATH,S=l.PREDICT_PATH,I=l.VERSION_PREDICT_PATH,x=l.MODEL_INPUTS_PATH,C=l.MODEL_VERSION_OUTPUT_PATH,R=l.MODEL_OUTPUT_PATH,D=l.MODEL_VERSION_INPUTS_PATH,j=l.MODEL_VERSION_METRICS_PATH,L=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this._config=t,this.name=n.name,this.id=n.id,this.createdAt=n.created_at||n.createdAt,this.appId=n.app_id||n.appId,this.outputInfo=n.output_info||n.outputInfo,c(/(String)/,n.version)?(this.modelVersion={},this.versionId=n.version):((n.model_version||n.modelVersion||n.version)&&(this.modelVersion=new o(this._config,n.model_version||n.modelVersion||n.version)),this.versionId=(this.modelVersion||{}).id),this.rawData=n}return r(e,[{key:\"mergeConcepts\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e];return this.update({action:\"merge\",concepts:t})}},{key:\"deleteConcepts\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e];return this.update({action:\"remove\",concepts:t})}},{key:\"overwriteConcepts\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e];return this.update({action:\"overwrite\",concepts:t})}},{key:\"runModelEval\",value:function(){var e=this,t=\"\"+this._config.basePath+p(j,[this.id,this.versionId]);return y(this._config,function(n){return new Promise(function(r,a){i.post(t,{},{headers:n}).then(function(t){s(t)?r(new o(e._config,t.data.model_version)):a(t)},a)})})}},{key:\"update\",value:function(t){var n=this,r=\"\"+this._config.basePath+O,o={models:[t].map(function(e){return b(Object.assign(e,{id:n.id}))})};return Array.isArray(t.concepts)&&(o.action=t.action||\"merge\"),y(this._config,function(t){return new Promise(function(a,c){i.patch(r,o,{headers:t}).then(function(t){s(t)?a(new e(n._config,t.data.models[0])):c(t)},c)})})}},{key:\"train\",value:function(t){var n=this,r=\"\"+this._config.basePath+p(P,[this.id]);return y(this._config,function(o){return new Promise(function(a,c){i.post(r,null,{headers:o}).then(function(r){if(s(r))if(n.versionId=r.data.model.model_version.id,t){var i=Date.now();n._pollTrain.bind(n)(i,a,c)}else a(new e(n._config,r.data.model));else c(r)},c)})})}},{key:\"_pollTrain\",value:function(e,t,n){var r=this;return clearTimeout(this.pollTimeout),Date.now()-e>=h?n({status:\"Error\",message:\"Sync call timed out\"}):void this.getOutputInfo().then(function(i){var o=i.modelVersion.status.code.toString();o===v||o===_?r.pollTimeout=setTimeout(function(){return r._pollTrain(e,t,n)},g):t(i)},n).catch(n)}},{key:\"predict\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];c(/String/,t)&&(console.warn(\"passing the language as a string is deprecated, consider using the configuration object instead\"),t={language:t}),n&&(console.warn('\"isVideo\" argument is deprecated, consider using the configuration object instead'),t.video=n);var r=t.video||!1;delete t.video,c(/(Object|String)/,e)&&(e=[e]);var o=\"\"+this._config.basePath+(this.versionId?p(I,[this.id,this.versionId]):p(S,[this.id]));return y(this._config,function(n){var a={inputs:e.map(function(e){return w(e,r?\"video\":\"image\")})};return t&&0<Object.getOwnPropertyNames(t).length&&(a.model={output_info:{output_config:T(t)}}),new Promise(function(e,t){i.post(o,a,{headers:n}).then(function(t){var n=u(t.data);n.rawData=u(t.data),e(n)},t)})})}},{key:\"getVersion\",value:function(e){var t=\"\"+this._config.basePath+p(E,[this.id,e]);return y(this._config,function(e){return new Promise(function(n,r){i.get(t,{headers:e}).then(function(e){var t=u(e.data);t.rawData=u(e.data),n(t)},r)})})}},{key:\"getVersions\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},t=\"\"+this._config.basePath+p(P,[this.id]);return y(this._config,function(n){var r={headers:n,params:{per_page:e.perPage,page:e.page}};return new Promise(function(e,n){i.get(t,r).then(function(t){var n=u(t.data);n.rawData=u(t.data),e(n)},n)})})}},{key:\"getOutputInfo\",value:function(){var t=this,n=\"\"+this._config.basePath+(this.versionId?p(C,[this.id,this.versionId]):p(R,[this.id]));return y(this._config,function(r){return new Promise(function(o,a){i.get(n,{headers:r}).then(function(n){o(new e(t._config,n.data.model))},a)})})}},{key:\"getInputs\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},t=\"\"+this._config.basePath+(this.versionId?p(D,[this.id,this.versionId]):p(x,[this.id]));return y(this._config,function(n){return new Promise(function(r,o){i.get(t,{params:{per_page:e.perPage,page:e.page},headers:n}).then(function(e){var t=u(e.data);t.rawData=u(e.data),r(t)},o)})})}},{key:\"feedback\",value:function(e,t){var n=t.id,r=t.data,o=t.info,a=\"\"+this._config.basePath+(this.versionId?p(k,[this.id,this.versionId]):p(A,[this.id])),s=w(e).data;o.eventType=\"annotation\";var c={input:{id:n,data:Object.assign(s,r),feedback_info:T(o)}};return y(this._config,function(e){return new Promise(function(t,n){i.post(a,c,{headers:e}).then(function(e){var n=e.data,r=u(n);r.rawData=u(n),t(r)},n)})})}}]),e}();e.exports=L},function(e){\"use strict\";e.exports=function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this.id=n.id,this.created_at=this.createdAt=n.created_at||n.createdAt,this.status=n.status,this.active_concept_count=n.active_concept_count,this.metrics=n.metrics,this._config=t,this.rawData=n}},function(e,t,n){(function(e){!function(e){\"use strict\";function t(e){if(e&&!/[^a-z0-9\\:\\/\\?\\#\\[\\]\\@\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=\\.\\-\\_\\~\\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var t,n,r,i,a,s=\"\",c=\"\";if(s=(t=o(e))[1],n=t[2],r=t[3],i=t[4],a=t[5],s&&s.length&&0<=r.length){if(n&&n.length){if(0!==r.length&&!/^\\//.test(r))return}else if(/^\\/\\//.test(r))return;return/^[a-z][a-z0-9\\+\\-\\.]*$/.test(s.toLowerCase())?(c+=s+\":\",n&&n.length&&(c+=\"//\"+n),c+=r,i&&i.length&&(c+=\"?\"+i),a&&a.length&&(c+=\"#\"+a),c):void 0}}}function n(e,n){if(t(e)){var r,i,a,s,c=\"\",u=\"\",f=\"\",l=\"\";if(c=(r=o(e))[1],u=r[2],i=r[3],a=r[4],s=r[5],c){if(n){if(\"https\"!=c.toLowerCase())return}else if(\"http\"!=c.toLowerCase())return;return u?(/:(\\d+)$/.test(u)&&(f=u.match(/:(\\d+)$/)[0],u=u.replace(/:\\d+$/,\"\")),l+=c+\":\",l+=\"//\"+u,f&&(l+=f),l+=i,a&&a.length&&(l+=\"?\"+a),s&&s.length&&(l+=\"#\"+s),l):void 0}}}function r(e){return n(e,!0)}function i(e){return n(e)||r(e)}e.exports.is_uri=t,e.exports.is_http_uri=n,e.exports.is_https_uri=r,e.exports.is_web_uri=i,e.exports.isUri=t,e.exports.isHttpUri=n,e.exports.isHttpsUri=r,e.exports.isWebUri=i;var o=function(e){return e.match(/(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/)}}(e)}).call(this,n(51)(e))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){\"use strict\";e.exports=function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this.id=n.id,this.name=n.name,this.createdAt=n.created_at||n.createdAt,this.appId=n.app_id||n.appId,this.value=n.value||null,this._config=t,this.rawData=n}},function(e,t,n){\"use strict\";var r=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=n(54),a=n(3),s=a.API,c=a.ERRORS,u=a.MAX_BATCH_SIZE,f=a.replaceVars,l=s.INPUT_PATH,h=s.INPUTS_PATH,p=s.INPUTS_STATUS_PATH,d=s.SEARCH_PATH,g=s.SEARCH_FEEDBACK_PATH,v=n(4),_=v.wrapToken,m=v.formatInput,y=v.formatImagesSearch,w=v.formatConceptsSearch,b=n(2),T=b.isSuccess,P=b.checkType,E=b.clone,O=function(){function e(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this.rawData=r,r.forEach(function(e,t){e.input&&e.score&&(e.input.score=e.score,e=e.input),n[t]=new o(n._config,e)}),this.length=r.length,this._config=t}return r(e,[{key:\"list\",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},r=\"\"+this._config.basePath+h;return _(this._config,function(o){return new Promise(function(a,s){i.get(r,{headers:o,params:{page:n.page,per_page:n.perPage}}).then(function(n){T(n)?a(new e(t._config,n.data.inputs)):s(n)},s)})})}},{key:\"create\",value:function(t){var n=this;P(/(String|Object)/,t)&&(t=[t]);var r=\"\"+this._config.basePath+h;if(t.length>u)throw c.MAX_INPUTS;return _(this._config,function(o){var a={inputs:t.map(m)};return new Promise(function(t,s){i.post(r,a,{headers:o}).then(function(r){T(r)?t(new e(n._config,r.data.inputs)):s(r)},s)})})}},{key:\"get\",value:function(e){var t=this,n=\"\"+this._config.basePath+f(l,[e]);return _(this._config,function(e){return new Promise(function(r,a){i.get(n,{headers:e}).then(function(e){T(e)?r(new o(t._config,e.data.input)):a(e)},a)})})}},{key:\"delete\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=void 0;if(P(/String/,e)){var n=\"\"+this._config.basePath+f(l,[e]);t=_(this._config,function(e){return i.delete(n,{headers:e})})}else t=this._deleteInputs(e);return t}},{key:\"_deleteInputs\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=\"\"+this._config.basePath+h;return _(this._config,function(n){return i({url:t,method:\"delete\",headers:n,data:null===e?{delete_all:!0}:{ids:e}})})}},{key:\"mergeConcepts\",value:function(e){return e.action=\"merge\",this.update(e)}},{key:\"deleteConcepts\",value:function(e){return e.action=\"remove\",this.update(e)}},{key:\"overwriteConcepts\",value:function(e){return e.action=\"overwrite\",this.update(e)}},{key:\"update\",value:function(t){var n=this,r=\"\"+this._config.basePath+h,o=Array.isArray(t)?t:[t];if(o.length>u)throw c.MAX_INPUTS;var a={action:t.action,inputs:o.map(function(e){return m(e,!1)})};return _(this._config,function(t){return new Promise(function(o,s){i.patch(r,a,{headers:t}).then(function(t){T(t)?o(new e(n._config,t.data.inputs)):s(t)},s)})})}},{key:\"search\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{page:1,perPage:20},n=[],r=\"\"+this._config.basePath+d,o={query:{ands:[]},pagination:{page:t.page,per_page:t.perPage}};return Array.isArray(e)||(e=[e]),0<e.length&&(e.forEach(function(e){e.input?n=n.concat(y(e.input)):e.concept&&(n=n.concat(w(e.concept)))}),o.query.ands=n),_(this._config,function(e){return new Promise(function(t,n){i.post(r,o,{headers:e}).then(function(e){if(T(e)){var r=E(e.data);r.rawData=E(e.data),t(r)}else n(e)},n)})})}},{key:\"searchFeedback\",value:function(e,t,n,r){var o=\"\"+this._config.basePath+g,a={input:{id:e,feedback_info:{event_type:\"search_click\",search_id:t,end_user_id:n,session_id:r}}};return _(this._config,function(e){return new Promise(function(t,n){i.post(o,a,{headers:e}).then(function(e){var n=e.data,r=E(n);r.rawData=E(n),t(r)},n)})})}},{key:\"getStatus\",value:function(){var e=\"\"+this._config.basePath+p;return _(this._config,function(t){return new Promise(function(n,r){i.get(e,{headers:t}).then(function(e){if(T(e)){var t=E(e.data);t.rawData=E(e.data),n(t)}else r(e)},r)})})}}]),e}();e.exports=O},function(e,t,n){\"use strict\";var r=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=n(8),a=n(55),s=n(3).API.INPUTS_PATH,c=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this.id=n.id,this.createdAt=n.created_at||n.createdAt,this.imageUrl=n.data.image.url,this.concepts=new o(t,n.data.concepts),this.regions=new a(t,n.data.regions||[]),this.score=n.score,this.metadata=n.data.metadata,n.data.geo&&n.data.geo.geo_point&&(this.geo={geoPoint:n.data.geo.geo_point}),this.rawData=n,this._config=t}return r(e,[{key:\"mergeConcepts\",value:function(e,t){return this._update(\"merge\",e,t)}},{key:\"deleteConcepts\",value:function(e,t){return this._update(\"remove\",e,t)}},{key:\"overwriteConcepts\",value:function(e,t){return this._update(\"overwrite\",e,t)}},{key:\"_update\",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=\"\"+this._config.basePath+s,a={};n.length&&(a.concepts=n),null!==r&&(a.metadata=r);var c={action:t,inputs:[{id:this.id,data:a}]};return wrapToken(this._config,function(t){return new Promise(function(n,r){return i.patch(o,c,{headers:t}).then(function(t){isSuccess(t)?n(new e(t.data.input)):r(t)},r)})})}}]),e}();e.exports=c},function(e,t,n){\"use strict\";var r=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(56),o=function(){function e(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this._config=t,this.rawData=r,r.forEach(function(e,t){n[t]=new i(n._config,e)}),this.length=r.length}return r(e,[{key:Symbol.iterator,value:function(){var e=this,t=-1;return{next:function(){return{value:e[++t],done:t>=e.length}}}}}]),e}();e.exports=o},function(e){\"use strict\";e.exports=function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this.id=n.id,this.top=n.region_info.bounding_box.top_row,this.left=n.region_info.bounding_box.left_col,this.bottom=n.region_info.bounding_box.bottom_row,this.right=n.region_info.bounding_box.right_col}},function(e,t,n){\"use strict\";var r=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=n(20),a=n(3),s=a.API,c=a.replaceVars,u=s.WORKFLOWS_PATH,f=s.WORKFLOW_PATH,l=n(4).wrapToken,h=n(2).isSuccess,p=function(){function e(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this._config=t,this.rawData=r,r.forEach(function(e,t){n[t]=new o(n._config,e)}),this.length=r.length}return r(e,[{key:\"list\",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{page:1,perPage:20},r=\"\"+this._config.basePath+u;return l(this._config,function(o){return new Promise(function(a,s){i.get(r,{headers:o,params:{page:n.page,per_page:n.perPage}}).then(function(n){h(n)?a(new e(t._config,n.data.workflows)):s(n)},s)})})}},{key:\"create\",value:function(e,t){var n=\"\"+this._config.basePath+u,r={workflows:[{id:e,nodes:[{id:\"concepts\",model:{id:t.modelId,model_version:{id:t.modelVersionId}}}]}]};return l(this._config,function(e){return new Promise(function(t,o){i.post(n,r,{headers:e}).then(function(e){var n=e.data.workflows[0].id;t(n)},o)})})}},{key:\"delete\",value:function(e){var t=\"\"+this._config.basePath+c(f,[e]);return l(this._config,function(e){return new Promise(function(n,r){i.delete(t,{headers:e}).then(function(e){var t=e.data;n(t)},r)})})}}]),e}();e.exports=p},function(e,t,n){\"use strict\";var r=n(59);e.exports=function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this.moderation=new r(t)}},function(e,t,n){\"use strict\";var r=function(){function e(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=n(4).wrapToken,a=n(2),s=a.isSuccess,c=a.clone,u=\"https://api.clarifai-moderation.com\",f=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this._config=t}return r(e,[{key:\"predict\",value:function(e,t){return o(this._config,function(n){var r={inputs:[{data:{image:{url:t}}}]};return new Promise(function(t,o){return i.post(u+\"/v2/models/\"+e+\"/outputs\",r,{headers:n}).then(function(e){if(s(e)){var n=c(e.data);t(n)}else o(e)},o)})})}},{key:\"getModerationStatus\",value:function(e){return o(this._config,function(t){return new Promise(function(n,r){return i.get(u+\"/v2/inputs/\"+e+\"/outputs\",{headers:t}).then(function(e){var t=c(e.data);n(t)},r)})})}}]),e}();e.exports=f}]);","extractedComments":[]}